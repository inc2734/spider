!function(){"use strict";function l(t,e,r,n,i){var a,s=2<arguments.length&&void 0!==r?r:{},o=!(3<arguments.length&&void 0!==n)||n,c=4<arguments.length&&void 0!==i&&i;try{a=new CustomEvent(e,{bubbles:o,cancelable:c,detail:s})}catch(t){(a=document.createEvent("CustomEvent")).initCustomEvent(e,o,c,s)}t.dispatchEvent(a)}function d(s,o){s.scrollLeft=0,s.setAttribute("data-current",0);var t=void 0,r=new IntersectionObserver(function(t){t.forEach(function(t){var e,r,n;s.scrollLeft<=0||(e=Number(s.getAttribute("data-current")),r=t.boundingClientRect.left,n=e,!t.isIntersecting&&r<0?n=Number(t.target.getAttribute("data-id"))+1:t.isIntersecting&&r<0&&(n=Number(t.target.getAttribute("data-id"))),s.setAttribute("data-current",n))})},{root:s,rootMargin:"0px",threshold:0});[].slice.call(o.slides).forEach(function(t,e){t.setAttribute("data-id",e),r.observe(t)}),s.addEventListener("scroll",function(){clearTimeout(t),t=setTimeout(function(){return l(s,"scrollEnd")},100)},!1),s.addEventListener("scrollEnd",function(){var t,e,r,n,i,a;i=s.getBoundingClientRect().left,a=[],[].slice.call(o.slides).forEach(function(t,e){var r=t.getBoundingClientRect().left;a[e]=Math.abs(r-i)}),-1===a.indexOf(0)&&(t=Math.min.apply(Math,a),e=a.indexOf(t),n=(r=o.slides[e]).getBoundingClientRect().left,r&&(s.scrollLeft+=n-i))},!1)}var s=function(t,r){var n=[];return[].slice.call(t).forEach(function(t){var e=new i(t,r);e&&n.push(e)}),n},o=function(i,o){var c=i.querySelector(o.canvas);if(c)return new function(){var a,s=this;this.target=i,this.options=o,this.canvas=c,this.slides=this.canvas.querySelectorAll(this.options.slide),this.prevArrow=i.querySelector(this.options.prevArrow),this.nextArrow=i.querySelector(this.options.nextArrow),this.dotsWrapper=i.querySelector(this.options.dotsWrapper);var t,e,r,n;return this.prev=function(){var t=Number(s.canvas.getAttribute("data-current"));s.moveTo(t-1)},this.next=function(){var t=Number(s.canvas.getAttribute("data-current"));s.moveTo(t+1)},this.moveTo=function(t){var e,r,n,i=Number(s.canvas.getAttribute("data-current"));i!==t&&(e=s.slides[t]||s.slides[i],r=s.canvas.getBoundingClientRect().left,n=e.getBoundingClientRect().left,function(t){clearInterval(a);var e,r,n=s.canvas.scrollLeft,i=0<t-n?"next":t!==n&&"prev";i&&(e=(t-n)/20,r=n,s.canvas.style.scrollSnapType="none",a=setInterval(function(){s.canvas.scrollLeft=s.canvas.scrollLeft+e,("next"===i&&t<=s.canvas.scrollLeft||"prev"===i&&t>=s.canvas.scrollLeft||r===s.canvas.scrollLeft)&&(clearInterval(a),s.canvas.style.scrollSnapType="",s.canvas.scrollLeft=t),r=s.canvas.scrollLeft},10))}(s.canvas.scrollLeft+n-r))},this.prevArrow&&(t=this.prevArrow,e={handleClick:this.prev},t.addEventListener("click",function(){return e.handleClick()},!1)),this.nextArrow&&(r=this.nextArrow,n={handleClick:this.next},r.addEventListener("click",function(){return n.handleClick()},!1)),this.dotsWrapper&&function(n,i){for(var t,e,r,a,s=0;s<i.numberOfSlides;s++){var o=(t=i.dot.slice(1),e=s,a=r=void 0,r=document.createElement("button"),a=document.createTextNode(e),r.appendChild(a),r.classList.add(t),r.setAttribute("data-index",e),r);n.appendChild(o),o.addEventListener("click",function(t){return i.handleClick(t)},!1)}new MutationObserver(function(){var t=i.canvas.getAttribute("data-current"),e=n.querySelector("".concat(i.dot,'[aria-current="true"]')),r=n.querySelector("".concat(i.dot,'[data-index="').concat(t,'"]'));e&&e.setAttribute("aria-current","false"),r&&r.setAttribute("aria-current","true")}).observe(i.canvas,{attributes:!0,attributeFilter:["data-current"]})}(this.dotsWrapper,{numberOfSlides:this.slides.length,canvas:this.canvas,dot:this.options.dot,handleClick:function(t){return s.moveTo(t.currentTarget.getAttribute("data-index"))}}),d(this.canvas,{slides:this.slides}),i.setAttribute("data-initialized","true"),l(i,"initialized"),this}};function i(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r={canvas:".spider__canvas",slide:".spider__slide",prevArrow:'.spider__arrow[data-direction="prev"]',nextArrow:'.spider__arrow[data-direction="next"]',dotsWrapper:".spider__dots",dot:".spider__dot"},n={};for(var i in r)n[i]=void 0!==e[i]?e[i]:r[i];if("string"!=typeof t)return!0==t instanceof NodeList?s(t,n):!0==t instanceof HTMLElement?o(t,n):void 0;var a=document.querySelectorAll(t);return a.length<1?void 0:s(a,n)}document.addEventListener("DOMContentLoaded",function(){new i(".spider")},!1)}();
