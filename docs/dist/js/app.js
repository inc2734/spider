!function(){"use strict";function l(t,e,n,r,i){var a,s=2<arguments.length&&void 0!==n?n:{},o=!(3<arguments.length&&void 0!==r)||r,c=4<arguments.length&&void 0!==i&&i;try{a=new CustomEvent(e,{bubbles:o,cancelable:c,detail:s})}catch(t){(a=document.createEvent("CustomEvent")).initCustomEvent(e,o,c,s)}t.dispatchEvent(a)}function d(o,c){o.scrollLeft=0,o.setAttribute("data-current",0);var t=void 0,e=0;o.addEventListener("scroll",function(){clearTimeout(t),t=setTimeout(function(){e++,console.log(e),l(o,"scrollEnd")},100)},!1),o.addEventListener("scrollEnd",function(){var r,t,e,n,i,a,s;r=o.getBoundingClientRect().left,[].slice.call(c.slides).forEach(function(t,e){var n=t.getBoundingClientRect().left;r!==n||o.setAttribute("data-current",e)}),a=o.getBoundingClientRect().left,s=[],[].slice.call(c.slides).forEach(function(t,e){var n=t.getBoundingClientRect().left;s[e]=Math.abs(n-a)}),-1===s.indexOf(0)&&(t=Math.min.apply(Math,s),e=s.indexOf(t),i=(n=c.slides[e]).getBoundingClientRect().left,n&&(o.scrollLeft+=i-a))},!1)}var s=function(t,n){var r=[];return[].slice.call(t).forEach(function(t){var e=new i(t,n);e&&r.push(e)}),r},o=function(i,o){var c=i.querySelector(o.canvas);if(c)return new function(){var a,s=this;this.target=i,this.options=o,this.canvas=c,this.slides=this.canvas.querySelectorAll(this.options.slide),this.prevArrow=i.querySelector(this.options.prevArrow),this.nextArrow=i.querySelector(this.options.nextArrow),this.dotsWrapper=i.querySelector(this.options.dotsWrapper);var t,e,n,r;return this.prev=function(){var t=Number(s.canvas.getAttribute("data-current"));s.moveTo(t-1)},this.next=function(){var t=Number(s.canvas.getAttribute("data-current"));s.moveTo(t+1)},this.moveTo=function(t){var e,n,r,i=Number(s.canvas.getAttribute("data-current"));i!==t&&(e=s.slides[t]||s.slides[i],n=s.canvas.getBoundingClientRect().left,r=e.getBoundingClientRect().left,function(t){clearInterval(a);var e,n,r=s.canvas.scrollLeft,i=0<t-r?"next":t!==r&&"prev";i&&(e=(t-r)/20,n=r,s.canvas.style.scrollSnapType="none",a=setInterval(function(){s.canvas.scrollLeft=s.canvas.scrollLeft+e,("next"===i&&t<=s.canvas.scrollLeft||"prev"===i&&t>=s.canvas.scrollLeft||n===s.canvas.scrollLeft)&&(clearInterval(a),s.canvas.style.scrollSnapType="",s.canvas.scrollLeft=t),n=s.canvas.scrollLeft},10))}(s.canvas.scrollLeft+r-n))},this.prevArrow&&(t=this.prevArrow,e={handleClick:this.prev},t.addEventListener("click",function(){return e.handleClick()},!1)),this.nextArrow&&(n=this.nextArrow,r={handleClick:this.next},n.addEventListener("click",function(){return r.handleClick()},!1)),this.dotsWrapper&&function(r,i){for(var t,e,n,a,s=0;s<i.numberOfSlides;s++){var o=(t=i.dot.slice(1),e=s,a=n=void 0,n=document.createElement("button"),a=document.createTextNode(e),n.appendChild(a),n.classList.add(t),n.setAttribute("data-index",e),n);r.appendChild(o),o.addEventListener("click",function(t){return i.handleClick(t)},!1)}new MutationObserver(function(){var t=i.canvas.getAttribute("data-current"),e=r.querySelector("".concat(i.dot,'[aria-current="true"]')),n=r.querySelector("".concat(i.dot,'[data-index="').concat(t,'"]'));e&&e.setAttribute("aria-current","false"),n&&n.setAttribute("aria-current","true")}).observe(i.canvas,{attributes:!0,attributeFilter:["data-current"]})}(this.dotsWrapper,{numberOfSlides:this.slides.length,canvas:this.canvas,dot:this.options.dot,handleClick:function(t){return s.moveTo(t.currentTarget.getAttribute("data-index"))}}),d(this.canvas,{slides:this.slides}),i.setAttribute("data-initialized","true"),l(i,"initialized"),this}};function i(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n={canvas:".spider__canvas",slide:".spider__slide",prevArrow:'.spider__arrow[data-direction="prev"]',nextArrow:'.spider__arrow[data-direction="next"]',dotsWrapper:".spider__dots",dot:".spider__dot"},r={};for(var i in n)r[i]=void 0!==e[i]?e[i]:n[i];if("string"!=typeof t)return!0==t instanceof NodeList?s(t,r):!0==t instanceof HTMLElement?o(t,r):void 0;var a=document.querySelectorAll(t);return a.length<1?void 0:s(a,r)}document.addEventListener("DOMContentLoaded",function(){new i(".spider")},!1)}();
