!function(){"use strict";function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function t(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}function e(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&n(t,e)}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function n(t,e){return(n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=i(n);return function(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return a(t)}(this,r?(t=i(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function f(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function h(t,e,n,r,i){var o,n=2<arguments.length&&void 0!==n?n:{},r=!(3<arguments.length&&void 0!==r)||r,i=4<arguments.length&&void 0!==i&&i;try{o=new CustomEvent(e,{bubbles:r,cancelable:i,detail:n})}catch(t){(o=document.createEvent("CustomEvent")).initCustomEvent(e,r,i,n)}t.dispatchEvent(o)}function c(t){var n=this;t&&(this.dom=t,this.getId=function(){return Number(t.getAttribute("data-id"))},this.top=function(){return n.dom.getBoundingClientRect().top},this.left=function(){return n.dom.getBoundingClientRect().left},this.right=function(){return n.left()+n.offsetWidth()},this.offsetWidth=function(){return n.dom.offsetWidth},this.style=function(t,e){n.dom.style[t]=e},this.active=function(){n.dom.setAttribute("data-active","true")},this.inactive=function(){n.dom.removeAttribute("data-active","true")},this.isActive=function(){return"true"===n.dom.getAttribute("data-active")})}function l(t){throw new Error("".concat(t," is abstract method. Override it with the child class."))}var d=function(){function n(t,e){var r=this;u(this,n),this.dom=t,this.args=e,this.slides=[].slice.call(this.dom.querySelectorAll(this.args.slide)).map(function(t){return new c(t)}),this.historyActiveSlideIds=[];function i(){var n;if(clearTimeout(a),1<(n=r.slides.map(function(t){return t.top()})).filter(function(t,e){return e===n.lastIndexOf(t)}).length&&0<o)return a=setTimeout(i,100),void o--;r.setWidth(""),r.beforeInit(),r.setWidth("".concat(Math.floor(r.offsetWidth()),"px")),r.setCurrent(0),r.afterInit()}var o=10,a=void 0;i(),window.addEventListener("resize",function(){return setTimeout(i,250)},!1),new MutationObserver(function(){var t;!r.dom.querySelector('[data-id="'.concat(r.getCurrent(),'"]'))||(t=r.slides[r.getCurrent()])&&(h(r.dom,"updateCurrent"),r.moveTo(t))}).observe(this.dom,{attributes:!0,attributeFilter:["data-current"]})}return t(n,[{key:"scrollLeft",value:function(){return this.dom.scrollLeft}},{key:"offsetWidth",value:function(){return this.dom.offsetWidth}},{key:"left",value:function(){return this.dom.getBoundingClientRect().left}},{key:"right",value:function(){return this.left()+this.offsetWidth()}},{key:"setWidth",value:function(t){this.dom.style.width=t}},{key:"setCurrent",value:function(t){this.dom.setAttribute("data-current",Number(t))}},{key:"getCurrent",value:function(){return Number(this.dom.getAttribute("data-current"))}},{key:"getSlides",value:function(){return this.slides}},{key:"getSlide",value:function(t){return this.slides[t]}},{key:"moveTo",value:function(t){l("abstractCanvas.moveTo")}},{key:"beforeInit",value:function(){l("abstractCanvas.beforeInit")}},{key:"afterInit",value:function(){l("abstractCanvas.afterInit")}}]),n}(),v=function(){e(o,d);var i=s(o);function o(t,e){var n,r;return u(this,o),(n=i.call(this,t,e)).smoothScrollToTimerId=void 0,n.canvasScrollTimerId=void 0,n.setScrollLeft=function(t){return n.dom.scrollLeft=t},n.setScrollLeft(0),n.handleScroll=n.handleScroll.bind(a(n)),n.dom.addEventListener("scroll",n.handleScroll,!1),n.dragStartX=void 0,n.dragStartScrollLeft=void 0,n.dragStartTime=void 0,n.isDrag=!1,n.handleMousedown=n.handleMousedown.bind(a(n)),n.dom.addEventListener("mousedown",n.handleMousedown,!1),n.handleMousemove=n.handleMousemove.bind(a(n)),n.dom.addEventListener("mousemove",n.handleMousemove,!1),n.handleMouseup=n.handleMouseup.bind(a(n)),n.dom.addEventListener("mouseup",n.handleMouseup,!1),n.dom.addEventListener("mouseleave",n.handleMouseup,!1),"undefined"!=typeof IntersectionObserver&&(r=new IntersectionObserver(function(t){t.forEach(function(t){var e=new c(t.target);t.isIntersecting?e.active():e.inactive()})},{root:n.dom,rootMargin:"0px -1.5px",threshold:[.5,1]}),n.slides.forEach(function(t){r.observe(t.dom)})),n}return t(o,[{key:"beforeInit",value:function(){}},{key:"afterInit",value:function(){}},{key:"handleScroll",value:function(){var n=this;clearTimeout(this.canvasScrollTimerId),this.isDrag||(this.canvasScrollTimerId=setTimeout(function(){var t=n.left(),e=n.getSlide(n.getCurrent()).left();1<Math.abs(t-e)&&n.setCurrentForWheel(),h(n.dom,"scrollEnd")},500))}},{key:"handleMousedown",value:function(t){t.preventDefault(),t.stopPropagation(),clearTimeout(this.canvasScrollTimerId),this.dragStartX=t.clientX,this.dragStartScrollLeft=this.scrollLeft(),this.dragStartTime=new Date,this.isDrag=!0}},{key:"handleMousemove",value:function(t){t.preventDefault(),t.stopPropagation(),this.isDrag&&this.setScrollLeft(this.dragStartScrollLeft+this.dragStartX-t.clientX)}},{key:"handleMouseup",value:function(t){var e;t.preventDefault(),t.stopPropagation(),this.isDrag&&(e=(new Date).getTime()-this.dragStartTime.getTime(),t=t.clientX-this.dragStartX,e<300&&(e=this.scrollLeft()-t/e*100,this.moveToLeft(e)),this.dragStartX=void 0,this.dragStartScrollLeft=void 0,this.dragStartTime=void 0,this.isDrag=!1,this.handleScroll())}},{key:"setCurrentForWheel",value:function(){var n=this,t=this.slides.reduce(function(t,e){return t.offsetWidth()-Math.abs(n.left()-t.left())<e.offsetWidth()-Math.abs(n.left()-e.left())?e:t});this.setCurrent(t.getId()),h(this.dom,"setCurrentForWheel")}},{key:"moveTo",value:function(t){t=this.scrollLeft()+(t.left()-this.left());this.moveToLeft(t)}},{key:"moveToLeft",value:function(e){var n=this,r=this.scrollLeft();clearInterval(this.smoothScrollToTimerId);var i,o,a,u,s=0<e-r?"next":e!==r&&"prev";!s||0!=(i=e-r)&&(o=i/(1e3/60),a=0,u=r,this.smoothScrollToTimerId=setInterval(function(){a+=Math.abs(o);var t,t=r+i*(t=a/Math.abs(i),Math.sqrt(1-Math.pow(t-1,2)));"next"===s&&t<=e&&u<=t||"prev"===s&&e<=t&&t<=u?(n.setScrollLeft(t),u=t):(clearInterval(n.smoothScrollToTimerId),n.setScrollLeft(e))},1e3/60))}}]),o}(),m=function(){e(i,d);var r=s(i);function i(t,e){var n;return u(this,i),(n=r.call(this,t,e)).dragStartX=void 0,n.isDrag=!1,n.handleMousedown=n.handleMousedown.bind(a(n)),n.dom.addEventListener("mousedown",n.handleMousedown,!1),n.handleMouseup=n.handleMouseup.bind(a(n)),n.dom.addEventListener("mouseup",n.handleMouseup,!1),n.dom.addEventListener("mouseleave",n.handleMouseup,!1),t.addEventListener("updateCurrent",function(){n.getSlides().forEach(function(t){n.getCurrent()===t.getId()?t.active():t.inactive()})},!1),n}return t(i,[{key:"beforeInit",value:function(){}},{key:"afterInit",value:function(){this.slides.forEach(function(t,e){0!==e?(t.style("left","".concat(-1*e*100,"%")),t.inactive()):t.active()})}},{key:"handleMousedown",value:function(t){t.preventDefault(),t.stopPropagation(),this.dragStartX=t.clientX,this.isDrag=!0}},{key:"handleMouseup",value:function(t){var e;t.preventDefault(),t.stopPropagation(),this.isDrag&&(e=t.clientX-this.dragStartX,t=this.getCurrent(),0<e?0<t&&this.setCurrent(t-1):e<0&&this.getSlides().length-1>t&&this.setCurrent(t+1),this.dragStartX=void 0,this.isDrag=!1)}},{key:"moveTo",value:function(e){var t,n=this;e.isActive()&&([].slice.call(this.dom.querySelectorAll('[data-active="false"]')).map(function(t){return new c(t)}).forEach(function(t){return t.inactive()}),e.active(),t=function t(){e.dom.removeEventListener("transitionend",t,!1),h(n.dom,"fadeEnd")},e.dom.addEventListener("transitionend",t,!1))}}]),i}();function g(t,e){return t.addEventListener("click",function(){return e.handleClick()},!1),this}function p(t,e){return t.addEventListener("click",function(){return e.handleClick()},!1),this}function b(t,e){var n=this;return this.active=function(){t.setAttribute("aria-current","true")},this.inactive=function(){t.removeAttribute("aria-current")},this.getId=function(){return Number(t.getAttribute("data-id"))},e.initial?this.active():this.inactive(),t.addEventListener("click",function(t){return e.handleClick(t)},!1),new MutationObserver(function(t){t.forEach(function(t){new c(t.target).isActive()?n.active():n.inactive()})}).observe(e.relatedSlide.dom,{attributes:!0,attributeFilter:["data-active"]}),this}function y(t,e){var n=[];return[].slice.call(t).forEach(function(t){t=new w(t,e);t.initialized&&n.push(t)}),n}function S(l,d){return new function(){function o(){return Number(l.getAttribute("data-interval"))}function a(){return clearTimeout(i)}function u(r){var t;c&&(r<=0||(t=function t(){var e=c.getSlides().filter(function(t){return t.isActive()}),n=f(c.getSlides()).pop();e.includes(n)?s.moveTo(0):s.next(),i=setTimeout(t,r)},i=setTimeout(t,r)))}var s=this,e=l.cloneNode(!0),c=void 0,i=void 0;return this.initialized=!1,this.destroy=function(){var t=e.cloneNode(!0);l.parentNode.insertBefore(t,l),l.remove(),l=t,s.initialized=!1},this.init=function(){var e,t,n,r,i;s.initialized||(e=l.querySelector(d.canvas))&&(t=l.querySelector(d.prevArrow),r=l.querySelector(d.nextArrow),n=l.querySelectorAll(d.dot),t&&new g(t,{handleClick:function(){a(),s.prev();var t=o();0<t&&u(t)}}),r&&new p(r,{handleClick:function(){a(),s.next();var t=o();0<t&&u(t)}}),r="true"===l.getAttribute("data-fade")?m:v,c=new r(e,{slide:d.slide}),0<(i=o())&&(u(i),e.addEventListener("setCurrentForWheel",function(){a(),u(i)},!1),["scroll","mousedown"].forEach(function(t){return e.addEventListener(t,a,!1)}),["scrollEnd","mouseup","mouseleave"].forEach(function(t){return e.addEventListener(t,function(){return u(i)},!1)})),0<n.length&&[].slice.call(n).forEach(function(t){new b(t,{initial:c.getCurrent()===Number(t.getAttribute("data-id")),relatedSlide:c.getSlide(Number(t.getAttribute("data-id"))),handleClick:function(t){a(),s.moveTo(t.currentTarget.getAttribute("data-id"));t=o();0<t&&u(t)}})}),s.initialized=!0,l.setAttribute("data-initialized","true"),h(l,"initialized"))},this.prev=function(){var t=!!c&&c.getCurrent();!1!==t&&0!==t&&s.moveTo(t-1)},this.next=function(){var t,e=!!c&&c.getCurrent();!1!==e&&((t=f(c.getSlides()).pop()).isActive()||e!==t.getId()&&s.moveTo(e+1))},this.moveTo=function(t){c&&c.getSlide(t)&&c.setCurrent(t)},this.init(),this}}function w(t){var e,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r={canvas:".spider__canvas",slide:".spider__slide",prevArrow:'.spider__arrow[data-direction="prev"]',nextArrow:'.spider__arrow[data-direction="next"]',dot:".spider__dot"},i={};for(e in r)i[e]=(void 0!==n[e]?n:r)[e];if("string"!=typeof t)return!0==t instanceof NodeList?y(t,i):!0==t instanceof HTMLElement?S(t,i):void 0;if(t.match(/^#/)){var o=document.querySelector(t);if(o)return S(o,i)}else{t=document.querySelectorAll(t);if(!(t.length<1))return y(t,i)}}document.addEventListener("DOMContentLoaded",function(){w(".spider-container"),w("#using-id-selector")},!1)}();
